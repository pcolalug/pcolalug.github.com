<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
		<title>Print Page - VPN Question</title>
		<style type="text/css">
			body
			{
				color: black;
				background-color: white;
			}
			body, td, .normaltext
			{
				font-family: Verdana, arial, helvetica, serif;
				font-size: small;
			}
			*, a:link, a:visited, a:hover, a:active
			{
				color: black !important;
			}
			table
			{
				empty-cells: show;
			}
			.code
			{
				font-size: x-small;
				font-family: monospace;
				border: 1px solid black;
				margin: 1px;
				padding: 1px;
			}
			.quote
			{
				font-size: x-small;
				border: 1px solid black;
				margin: 1px;
				padding: 1px;
			}
			.smalltext, .quoteheader, .codeheader
			{
				font-size: x-small;
			}
			.largetext
			{
				font-size: large;
			}
			hr
			{
				height: 1px;
				border: 0;
				color: black;
				background-color: black;
			}
		</style>
	</head>
	<body>
		<h1 class="largetext">Pensacola Linux User's Group</h1>
		<h2 class="normaltext">Software => Networking => Topic started by: bigtoss03 on August 14, 2006, 11:00:23 pm</h2>

		<table width="90%" cellpadding="0" cellspacing="0" border="0">
			<tr>
				<td>
					<br />
					<hr size="2" width="100%" />
					Title: <b>VPN Question</b><br />
					Post by: <b>bigtoss03</b> on <b>August 14, 2006, 11:00:23 pm</b>
					<hr />
					<div style="margin: 0 5ex;">Alright I don&#039;t know if this qualifies but here is a problem that I am having that I could use help with. I am trying to setup my church server to allow me to do VPN from my house. The setup is simple it involves going from my house thru the Linksys router to the actual server. How do I do this precisely?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>rugmonster</b> on <b>August 14, 2006, 11:56:01 pm</b>
					<hr />
					<div style="margin: 0 5ex;">There are a lot of variables here and more specifics are needed. I suggest you start by looking into the basics of VPNs and decide if you really need a VPN. If you do decide you do need a VPN, you can either go the complicated IPSec route or use something like OpenVPN, which is SSL based. With proper firewall policies and good user authentication, you can avoid the need for a VPN completely. </div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>dpeach</b> on <b>August 15, 2006, 07:30:02 pm</b>
					<hr />
					<div style="margin: 0 5ex;">If you do decide to go VPN route, then on top of OpenVPN (http://openvpn.net) (which is a great system and very powerful) check out Hamachi (http://hamachi.cc). It is a zeroconf VPN solution. Pretty self explanatory and very easy to use for just a couple of machines. If install goes well and you kinda understand what it is, you can be connected in a matter of minutes. OpenVPN may be a better solution because of all the extra control you can have over the system. Hamachi is simple, but also simplistic.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>bigtoss03</b> on <b>August 16, 2006, 02:12:03 pm</b>
					<hr />
					<div style="margin: 0 5ex;">Thanks for the info. Yes, I do need a VPN connection to allow me to work from my house and to allow the server to be moved to a better location. I will read more on Hamachi and OPENVPN. My main concern is to be able to do remote administration, allow certain users to access files on their machines and to FTP webpages to the server.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>rugmonster</b> on <b>August 16, 2006, 02:43:27 pm</b>
					<hr />
					<div style="margin: 0 5ex;">I&#039;m confused as to why you need a VPN for the tasks you specified. Assuming this is a *nix box, SSH is a single firewall rule. You don&#039;t need FTP if you have SSH because you can use SFTP. That would cover filesystem access and remote administration. For a Windows box, you would need a rule for RDP. Unless you are wanting to do SMB/CIFS file sharing and Windows domains, or you wanted to limit your firewall rules, I don&#039;t see the big advantage to running a VPN here. Any encrypting VPN will slow down your connection throughput and the services you need are encrypted in and of themselves. Double encryption, from a realistic standpoint, doesn&#039;t mean it&#039;s more secure, just slower.<br /><br />The only reason I&#039;m pushing you against this is that more times than not, I&#039;ve had VPNs become more of a liability in certain circumstances. I mostly try to avoid unneeded complexity. If you do decide you need it, then best of luck. Let us know if we can help.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>bigtoss03</b> on <b>August 16, 2006, 11:12:04 pm</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="index.php%3Ftopic=2979.msg14586.html#msg14586">Quote from: rugmonster on August 16, 2006, 02:43:27 pm</a></div><div class="quote">I&#039;m confused as to why you need a VPN for the tasks you specified. Assuming this is a *nix box, SSH is a single firewall rule. You don&#039;t need FTP if you have SSH because you can use SFTP. That would cover filesystem access and remote administration. For a Windows box, you would need a rule for RDP. Unless you are wanting to do SMB/CIFS file sharing and Windows domains, or you wanted to limit your firewall rules, I don&#039;t see the big advantage to running a VPN here. Any encrypting VPN will slow down your connection throughput and the services you need are encrypted in and of themselves. Double encryption, from a realistic standpoint, doesn&#039;t mean it&#039;s more secure, just slower.<br /><br />The only reason I&#039;m pushing you against this is that more times than not, I&#039;ve had VPNs become more of a liability in certain circumstances. I mostly try to avoid unneeded complexity. If you do decide you need it, then best of luck. Let us know if we can help.<br /></div><br />Understand all that you are writing. Let&#039;s keep this simple. If I am reading what you have written correctly all my issues can be resolved by using SSH for the most part. Only issue that I have is that my 2 users may need access to their files stored on either their WINXP machines or the Linux fileserver.<br /><br />If I can avoid loading anything unnecessary or having to find more software I am all for that. I will look at SSH and see how to use it and SFTP as well. Please keep the good tips and suggestions coming. My appreciation is given ahead of time.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>rugmonster</b> on <b>August 17, 2006, 10:23:44 am</b>
					<hr />
					<div style="margin: 0 5ex;">Oh, that&#039;s easy! On the Linux fileserver, mount the C drives (shared out by default as C$) to the local filesystem...say under /mnt/net/computer1 and /mnt/net/computer2. Then, you setup accounts for all of the people that need access, sounds like it may only be three, and then give them a copy of&nbsp; Filezilla (http://filezilla.sourceforge.net), or any other SFTP capable client, the IP to connect to the church server and a 10 minute training session.<br /><br />(http://img528.imageshack.us/img528/3633/diagrambg1.th.png) (http://img528.imageshack.us/my.php?image=diagrambg1.png)<br />Here&#039;s a visual that may help out.<br /><br />Believe it or not, there are a whole heck of a lot of things you can do with SSH. </div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>bigtoss03</b> on <b>August 17, 2006, 05:07:11 pm</b>
					<hr />
					<div style="margin: 0 5ex;">Good to hear. One quick question. Will they be able to share files through SAMBA? Because the main idea is for them to be able to do just that. I will go read the Filezilla documentation today.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>rugmonster</b> on <b>August 17, 2006, 05:10:50 pm</b>
					<hr />
					<div style="margin: 0 5ex;">No, but they will be able to upload and download files. It doesn&#039;t have the pretty Windows Explorer integration, but this is the trade off of simplicity.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>bigtoss03</b> on <b>August 17, 2006, 06:53:56 pm</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="index.php%3Ftopic=2979.msg14597.html#msg14597">Quote from: rugmonster on August 17, 2006, 05:10:50 pm</a></div><div class="quote">No, but they will be able to upload and download files. It doesn&#039;t have the pretty Windows Explorer integration, but this is the trade off of simplicity.<br /></div>Okay, the simplicity issue sounds real good. After I give it a try and get it working I&#039;ll get back to you about the issue of filesharing for them. I have loaded Filezilla onto my WINXP box and will load it onto my FC5 box on Monday. I&#039;ll let you know how it works then.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>bigtoss03</b> on <b>August 28, 2006, 11:22:09 am</b>
					<hr />
					<div style="margin: 0 5ex;">Okay, I have tried mounting it as you prescribed and my mnt/net directory shows comp1 and comp2. I have filezilla loaded only on the computer at the house. Do I need a version of filezilla loaded onto the server as well?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>rugmonster</b> on <b>August 28, 2006, 12:48:38 pm</b>
					<hr />
					<div style="margin: 0 5ex;">Nope. Just make sure that TCP Port 22 is allowed to the linux server and connect to it from your home with your Linux username and password, using SSH (or SFTP) on port 22. Having SSH installed is all you need.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>bigtoss03</b> on <b>August 28, 2006, 10:17:50 pm</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="index.php%3Ftopic=2979.msg14657.html#msg14657">Quote from: rugmonster on August 28, 2006, 12:48:38 pm</a></div><div class="quote">Nope. Just make sure that TCP Port 22 is allowed to the linux server and connect to it from your home with your Linux username and password, using SSH (or SFTP) on port 22. Having SSH installed is all you need.<br /></div>Alright so now I just need to make sure that TCP port 22 is allowed both on my router and my Linux box. Do I need to configure linux to have port 22 avaliable or is this done automatically once it was configured?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>OmnipotentEntity</b> on <b>August 28, 2006, 10:51:34 pm</b>
					<hr />
					<div style="margin: 0 5ex;">Unless you&#039;ve done anything weird with iptables or something it should be enabled.<br /><br />As a test just try to ssh localhost from your computer.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>bigtoss03</b> on <b>September 07, 2006, 11:53:24 pm</b>
					<hr />
					<div style="margin: 0 5ex;">Okay, via IRC I was able to connect to my sftp from one of the church&#039;s windows computers. However, I can&#039;t connect from my house. When I attempt to connect it states that I am connected however the server is not configure for global configuration. Any suggestions?</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>bigtoss03</b> on <b>September 11, 2006, 10:24:39 pm</b>
					<hr />
					<div style="margin: 0 5ex;">I am receiving the message that I am connecting through the firewall but the firewall has not been configured in global settings.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>rugmonster</b> on <b>September 12, 2006, 04:41:43 am</b>
					<hr />
					<div style="margin: 0 5ex;">No, actual error messages from specific programs. There are all kinds of global settings for various different programs.<br /><br />SSH should not care if there is a firewall between you and the server. It handles port forwarding without a problem and doesn&#039;t need to know about any NAT or anything else at layer 3 or 4. Whatever your problem is, it doesn&#039;t sound like it&#039;s with SSH. Look in your log files for messages from SSHD.<br /><br />Files to look in:<br /><br />/var/log/messages<br />/var/log/syslog<br />/var/log/auth.log OR authlog<br />/var/log/daemon.log (unlikely anything is in here)<br /><br />And how were you connecting via IRC? Is that Internet Relay Chat or are you using IRC as some other acronym?<br /><br />edit:<br />I just thought about something. You aren&#039;t for some reason trying to use FTP or FTPS (FTP with SSL, like HTTPS is HTTP with SSL)? Those are completely different from SFTP. SFTP is completely in SSH. Also, how do you know you&#039;re getting through the firewall? Have you done a tcpdump or ettercap dump on both sides of the firewall looking for traffic on tcp port 22? Once again, post specific error messages and log entries. </div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>bigtoss03</b> on <b>September 12, 2006, 11:32:21 am</b>
					<hr />
					<div style="margin: 0 5ex;"><div class="quoteheader"><a href="index.php%3Ftopic=2979.msg14747.html#msg14747">Quote from: rugmonster on September 12, 2006, 04:41:43 am</a></div><div class="quote">No, actual error messages from specific programs. There are all kinds of global settings for various different programs.<br /><br />SSH should not care if there is a firewall between you and the server. It handles port forwarding without a problem and doesn&#039;t need to know about any NAT or anything else at layer 3 or 4. Whatever your problem is, it doesn&#039;t sound like it&#039;s with SSH. Look in your log files for messages from SSHD.<br /><br />Files to look in:<br /><br />/var/log/messages<br />/var/log/syslog<br />/var/log/auth.log OR authlog<br />/var/log/daemon.log (unlikely anything is in here)<br /><br />And how were you connecting via IRC? Is that Internet Relay Chat or are you using IRC as some other acronym?<br /><br />edit:<br />I just thought about something. You aren&#039;t for some reason trying to use FTP or FTPS (FTP with SSL, like HTTPS is HTTP with SSL)? Those are completely different from SFTP. SFTP is completely in SSH. Also, how do you know you&#039;re getting through the firewall? Have you done a tcpdump or ettercap dump on both sides of the firewall looking for traffic on tcp port 22? Once again, post specific error messages and log entries. <br /></div><br />Negs on the FTP/FTPS. Nor have I used the tcpdump or ettercap dump on either side of the firewall. How do I know that I am getting through the firewall? Each time that I bring up Filezilla and try connecting it displays that message. However this is on my home pc running WINXP. I will check the /var files you have mentioned and post the results.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>rugmonster</b> on <b>September 12, 2006, 04:19:58 pm</b>
					<hr />
					<div style="margin: 0 5ex;">The logs are going to be on the SSH server. You won&#039;t have those logs with Filezilla on your client machine. What you are looking for are any logs about SSH saying that you have connected from home.<br /><br />Did you make any changes in the Firewall settings of Filezilla? You shouldn&#039;t need to. Also, are you running a host based firewall on your Windows XP system? Ensure that Filezilla and a destination TCP port 22 is allowed outbound from your system. This sounds like a client problem, not server.</div>
					<br />
					<hr size="2" width="100%" />
					Title: <b>Re: VPN Question</b><br />
					Post by: <b>bhoff</b> on <b>September 18, 2006, 04:32:26 pm</b>
					<hr />
					<div style="margin: 0 5ex;">Well Vernon,<br /><br />I was going to send you a screen capture of my linksys router but unfortnately I recently moved all my linksys routers to wrt for there operation and the gui is slightly diffrent.<br /><br />the router is the problem since it showed port 22 as filtered when we scanned it at the meeting<br />Once that is open you should be good to go.<br />you will have to set ssh to point to the ip of the machine you will want to work from .<br /><br /></div>
					<br /><br />
					<div align="center" class="smalltext">
		<span class="smalltext" style="display: inline; visibility: visible; font-family: Verdana, Arial, sans-serif;"><a href="http://www.simplemachines.org/" title="Simple Machines Forum" target="_blank">Powered by SMF 1.1.13</a> |
<a href="http://www.simplemachines.org/about/copyright.php" title="Free Forum Software" target="_blank">SMF &copy; 2006-2011, Simple Machines LLC</a>
		</span></div>
				</td>
			</tr>
		</table>
	</body>
</html>