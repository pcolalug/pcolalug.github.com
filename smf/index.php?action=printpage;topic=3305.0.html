<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
		<title>Print Page - GUIDE: Ubuntu 7.10 on an HP Pavilion tx1000 Series Notebook</title>
		<style type="text/css">
			body
			{
				color: black;
				background-color: white;
			}
			body, td, .normaltext
			{
				font-family: Verdana, arial, helvetica, serif;
				font-size: small;
			}
			*, a:link, a:visited, a:hover, a:active
			{
				color: black !important;
			}
			table
			{
				empty-cells: show;
			}
			.code
			{
				font-size: x-small;
				font-family: monospace;
				border: 1px solid black;
				margin: 1px;
				padding: 1px;
			}
			.quote
			{
				font-size: x-small;
				border: 1px solid black;
				margin: 1px;
				padding: 1px;
			}
			.smalltext, .quoteheader, .codeheader
			{
				font-size: x-small;
			}
			.largetext
			{
				font-size: large;
			}
			hr
			{
				height: 1px;
				border: 0;
				color: black;
				background-color: black;
			}
		</style>
	</head>
	<body>
		<h1 class="largetext">Pensacola Linux User's Group</h1>
		<h2 class="normaltext">Club Stuff => Articles => Topic started by: green_dragon37 on February 05, 2008, 11:41:23 pm</h2>

		<table width="90%" cellpadding="0" cellspacing="0" border="0">
			<tr>
				<td>
					<br />
					<hr size="2" width="100%" />
					Title: <b>GUIDE: Ubuntu 7.10 on an HP Pavilion tx1000 Series Notebook</b><br />
					Post by: <b>green_dragon37</b> on <b>February 05, 2008, 11:41:23 pm</b>
					<hr />
					<div style="margin: 0 5ex;">This is a guide to installing Ubuntu 7.10 in a dual boot configuration with Windows Vista on an HP Pavilion tx1000 Series Notebook (http://h71036.www7.hp.com/hho/cache/447013-0-0-225-121.html?jumpid=reg_R1002_USEN).&nbsp; The specific model in the series that I have is the tx1410us (http://www.shopping.hp.com/webapp/shopping/store_access.do?template_type=product_detail&amp;product_code=KC469UA%23ABA&amp;jumpid=oc_R1002_USENC-001_HP%20Pavilion%20tx1410us%20Notebook%20PC&amp;lang=en&amp;cc=us)<br /><br />The goal is to have every major feature working that I can possibly manage.&nbsp; As I install and configure, I will document every step along the way in this thread.<br /><br /><span style="font-size: 14pt; line-height: 1.3em;"><b><span style="text-decoration: underline;">Contents</span></b></span><br />&nbsp;1) Preparing Windows Vista, Resizing Partitions<br />&nbsp;2) Downloading and Burning Ubuntu<br />&nbsp;3) Installing Ubuntu<br />&nbsp;4) Configuring Ubuntu and Devices<br />&nbsp;+- a. Configuring Grub<br />&nbsp;+- b. Configuring Audio<br />&nbsp;+- c. Configuring Video<br />&nbsp;+- d. Configure Wireless<br />&nbsp;+- e. Configure Touchscreen<br />&nbsp;5) Final Thoughts<br /><br /><br /><span style="font-size: 14pt; line-height: 1.3em;"><b><span style="text-decoration: underline;">Section 1 - Preparing Vista, Partitions</span></b></span><br /><br />The first step is to resize the partition that Vista resides on.&nbsp; Having tried, and failed, resizing with qtparted on Knoppix, I did some googling and discovered that Vista has support for resizing partitions and filesystems built right in to the Disk Management interface.&nbsp; Follow these directions (http://vistarewired.com/2007/02/16/how-to-resize-a-partition-in-windows-vista) and hopefully you&#039;ll have your partition resized in no time.&nbsp; The only problem that I found with Vista&#039;s resizing, was that I was limited by how much I could shrink to about 65 GB, so YMMV.&nbsp; This wasn&#039;t a large issue to me, because I planned on having most of my storage on the NTFS partition anyhow, so that I can access my files from either OS.&nbsp; If you need to shrink the partition by more than the seemingly arbitrary amount that Vista will allow you, I&#039;m afraid I have no answer.&nbsp; The program itself, however, suggests that disabling snapshots and pagefiles may increase the amount you can shrink it by.<br /><br /><br /><span style="font-size: 14pt; line-height: 1.3em;"><b><span style="text-decoration: underline;">Section 2 - Download and Burn</span></b></span><br /><br />If you don&#039;t have an Ubuntu CD already, pop over to the Ubuntu download site (http://www.ubuntu.com/getubuntu/download) and download the standard ISO, in either 32 or 64 bit format.&nbsp; I chose to use the 32-bit install, because I didn&#039;t want the headaches of getting things like Flash working.&nbsp; Later I may give 64-bit a shot, but I have no plans for it now.<br /><br />If you&#039;re blessed with a decent internet connection, the download shouldn&#039;t take long, but in my case the wait was about 2.5 hours.&nbsp; In fact, I&#039;m still waiting for the download.<br /><br />When burning the ISO, you may find it useful to keep, and use, the pre-installed burning software that HP put on the machine.&nbsp; In my rush to clean out the garbage as soon as I bought it, I cleverly uninstalled it.&nbsp; Going back to Google, I found a power toy for Vista that allows you to burn ISO images directly from Explorer.&nbsp; The ISORecorder PowerToy (http://isorecorder.alexfeinman.com/isorecorder.htm) also allows you to copy disks, create ISO images from existing disks, and create images from existing folders.<br /><br />Once you&#039;ve installed ISORecorder, just right-click the ISO file and Copy Image to CD.&nbsp; Follow the prompts and you&#039;ll have yourself one Ubuntu installer, ready to go.<br /><br /><br /><span style="font-size: 14pt; line-height: 1.3em;"><b><span style="text-decoration: underline;">Section 3 - Installing Ubuntu</span></b></span><br /><br />Now, you will boot the laptop with the CD in the drive.&nbsp; When the boot menu comes up, I would recommend running the disk checker, to make sure the disk is good.&nbsp; Once that is finished, you will reboot the machine and return to the boot menu again.&nbsp; On the first time booting, it didn&#039;t boot properly, so you should go ahead and press F6, and add the codes &quot;noapic vga=0x317&quot; to the end of the line that comes up.&nbsp; Press enter to boot into an Ubuntu live environment.<br /><br />At this point you may choose to play around with some of the applications on the live CD, I did, and discovered that the webcam was detected and partially worked.&nbsp; The on board ethernet worked, the integrated wireless did not.&nbsp; Even the touch screen sent click events when you tapped it, though it didn&#039;t move the cursor around.&nbsp; Even the biometric sensor was detected, though I have no clue where to start to make it do anything.&nbsp; The audio was detected and appeared to work, but didn&#039;t produce any sound.&nbsp; Some research suggests this is due to the audio jack sensing causing problems, and there is a suggested fix that I will get into once the install completes.<br /><br />On the whole, it seems like most of what I want out of the laptop is going to work out of the box.<br /><br /><br /><span style="font-size: 14pt; line-height: 1.3em;"><b><span style="text-decoration: underline;">Section 4 - Configuring Ubuntu</span></b></span><br /><br />Okay, so having completed the install, Ubuntu gives you the option to reboot, or keep playing with the live CD.&nbsp; When you do decide to reboot, it ejects the CD, you press a key, and you should come to a brand new grub boot menu.&nbsp; First off, before the timeout, press &#039;e&#039; to edit the first boot entry.&nbsp; Go down to the line that starts &quot;kernel...&quot; and press &#039;e&#039; again.&nbsp; At the end of this line, add a space, then &quot;noapic vga=0x317&quot; or your new install will not boot.&nbsp; Press enter to temporarily save your changes, then press &#039;b&#039; to boot.&nbsp; Unless something went wrong, Ubuntu will boot and give you a login screen.&nbsp; Go ahead and log in with the credentials you supplied in the install process.<br /><br />At this stage you will notice that some things are working, right out of the box.&nbsp; The Bluetooth adapter was picked up and works, as well as the SD/MS/MMS/XD card reader on the side.<br /><br /><b><span style="text-decoration: underline;">Configuring grub</span></b><br />Now the very first thing we must do is modify the boot loader configuration file so that you will not have to append those two options every time you wish to boot Ubuntu.&nbsp; Open a terminal (Applications &gt; Accessories &gt; Terminal) and type &quot;sudo gedit /boot/grub/menu.lst&quot;.&nbsp; It will request your user password, and then give you an editor.&nbsp; Scroll down until you see a line starting with &quot;kernel...&quot;&nbsp; Append the options &quot;noapic vga=0x317&quot; to both of the lines, one for the normal startup, and one for the recovery mode startup.&nbsp; Save the file, and when you next reboot, it will boot up fine without any intervention from you.<br /><br /><b><span style="text-decoration: underline;">Configuring apt</span></b><br />Next, we should configure apt (the package manager) to use any repositories that we will require.&nbsp; Start up synaptic (System menu &gt; Administration &gt; Synaptic Package Manager) and choose Repositories from the Settings menu.&nbsp; Check the boxes for main, universe, restricted, and multiverse, then under the Updates tab, check security and updates.&nbsp; Leave the proposed and backports unchecked, unless you wish to use bleeding-edge unsupported packages.&nbsp; Once you&#039;ve saved the settings, synaptic will suggest you reload, do so.<br /><br /><b><span style="text-decoration: underline;">Configuring sound</span></b><br />Now, none of the sound was working after installing, so it required a little bit of tweaking.&nbsp; Fortunately the audio chipset is supported, and was detected, it just needed some options passed at module load time.&nbsp; Open the file &quot;/etc/modprobe.d/alsa-base&quot; (use sudo gedit again) and add the line &quot;options snd-hda-intel index=0 model=3stack position_fix=0 single_cmd=0&quot; to the end of it.&nbsp; Save, and upon rebooting, your sound should work.&nbsp; One caveat to this method: it seems to disable your headphone jacks.&nbsp; Still, it&#039;s better than no sound at all, and I&#039;m still researching on what can be done to make the sound work 100%.<br /><br />On a side note, the volume control and mute buttons worked out of the box, with Ubuntu, though the mute button doesn&#039;t change colors when you press it.<br /><br /><b><span style="text-decoration: underline;">Configuring video</span></b><br />Enabling the nvidia drivers for the onboard video is a snap.&nbsp; After you&#039;ve enabled the required repositories as outlined above, go to System &gt; Administration &gt; Restricted Drivers Manager.&nbsp; Check the box on the line with NVIDIA accelerated graphics driver, then click Enable Driver in the window that appears.&nbsp; After downloading and installing the driver, you should reboot to fully enable the new drivers.&nbsp; Once you&#039;ve rebooted, you may opt to turn on the &quot;eye candy.&quot;&nbsp; Go to System &gt; Preferences &gt; Appearance, Visual Effects tab, and select the level of effects you desire.&nbsp; Extra turns on compiz-fusion, and requires the nvidia drivers for your card be installed.<br /><br /><b><span style="text-decoration: underline;">Configuring wireless</span></b><br />This laptop&#039;s built in wireless is the Broadcom BCM4328 a/b/g/n adapter.&nbsp; It is miniPCI express, if you should decide to swap it for another card.&nbsp; I didn&#039;t go very far in configuring this integrated wireless, because my plans for the laptop include replacing that with an atheros based card, and also using a usb adapter with an external connector for some of the longer range wifi i wish to play with.<br /><br />Getting the wireless up and running without any WEP/WPA/WPA2 support is a simple enough task though.&nbsp; First off, install ndiswrapper from synaptic.&nbsp; Next, download some drivers for the card, I got mine from Dell of all places, then unpackage and install them with the following commands:<br /><div class="codeheader">Code:</div><div class="code">wget http://ftp.us.dell.com/network/R151517.EXE<br />mkdir driver<br />unzip -a R151517.EXE -d driver/<br />cd driver/DRIVER/<br />sudo ndiswrapper -i bcmwl5.inf<br />sudo ndiswrapper -l<br />sudo ndiswrapper -m<br />sudo modprobe ndiswrapper</div><br />None of these steps, however, cause the module to auto-load on boot, I had to manually add the module &quot;ndiswrapper&quot; to &quot;/etc/modules&quot; with my favorite editor.<br /><br />At this point, you should be able to right click on the network connections applet, and connect to any open, unsecured network.<br /><br />If you need WEP or WPA, try the instructions provided at http://www.micahcarrick.com/11-04-2007/bcm4328-wep-gusty-ubuntu.html or at http://ubuntuforums.org/showthread.php?t=202834 (http://ubuntuforums.org/showthread.php?t=202834).<br /><br /><b><span style="text-decoration: underline;">Configuring the touchscreen</span></b><br />For this part, I&#039;m simply going to quote the instructions that I followed to get the touchscreen working.&nbsp; It doesn&#039;t support any rotating, but it&#039;s one heck of a start.<br />From http://ubuntuforums.org/showthread.php?t=442483&amp;page=55<br /><div class="quoteheader">Quote</div><div class="quote">okay, since there have been many people asking about the touchscreen on gutsy I have decided to make a small HowTo, bear in mind that for some reason this doesn&#039;t work in hardy yet:<br /><br />the first thing to do is to download the drivers<br /><br />the drivers can be found here: http://210.64.17.162/web20/TouckDriver/linuxDriver.htm<br /><br />there are both the 64 and 32 bit versions available, anyway you should download the ones for the 2.6 kernel.<br /><br />After that, decompress and copy the files to the appropriate folders. The extracted file is the &quot;TouchKit&quot; folder, I find it handy to keep it in the home folder directory.<br /><br />Code:<br /><br />tar xvfz TouchKit_1.07.0831.tar.gz<br />cd TouchKit<br />sudo cp egalax_drv.so /usr/lib/xorg/modules/input/<br /><br />if you are using gutsy amd64 then these are the commands for u<br /><br />Code:<br /><br />tar xvfz TouchKit64_1.07.0907.tar.gz<br />cd TouchKit64<br />su<br />cp egalax_drv.so /usr/lib64/xorg/modules/input/<br /><br />note that the only difference is that gutsy 64 uses /usr/lib64/ instead of /usr/lib/<br /><br />if you are like I was in the beginning and don&#039;t like to use the tar command, just double click it, extract to desktop, go to terminal type<br /><br />Code:<br /><br />sudo nautilus<br /><br />and manually copy the file egalax_drv.so to the /usr/lib/xorg/modules/input/ folder. just be careful not to change anything else.<br /><br />next edit your xorg<br /><br />Code:<br /><br />sudo gedit /etc/X11/xorg.conf<br /><br />there add to the &quot;ServerLayout&quot; Section near the bottom of your xorg the following line (without the ... )<br />Code:<br /><br />...<br />InputDevice&nbsp; &nbsp; &quot;EETI&quot;&nbsp; &nbsp; &nbsp; &quot;SendCoreEvents&quot;<br />...<br /><br />the add this somewhere else in the file, I like to keep things sorted so I put mine next to the other InputDevices near the top<br /><br />Code:<br /><br />Section &quot;InputDevice&quot;<br />&nbsp; &nbsp; &nbsp; Identifier &quot;EETI&quot;<br />&nbsp; &nbsp; &nbsp; Driver &quot;egalax&quot;<br />&nbsp; &nbsp; &nbsp; Option &quot;Device&quot;&nbsp; &nbsp; &quot;/dev/usb/hiddev0&quot;<br />&nbsp; &nbsp; &nbsp; Option &quot;Parameters&quot; &quot;/etc/egalax.cal&quot;<br />&nbsp; &nbsp; &nbsp; Option &quot;ScreenNo&quot;&nbsp; &nbsp;&quot;0&quot;<br />EndSection<br /><br />you are almost done, I found out that a few modules make it hard for the pc to detect the device so what you do is to blacklist some of them<br /><br />I noticed that the /dev/usb/ folder was disappearing because of these two buggers<br /><br />usbtouchscreen<br />tkusb<br /><br /><br />this is easily solved by<br /><br />Code:<br /><br />&nbsp;sudo gedit /etc/modprobe.d/blacklist<br /><br /><br />add the following lines to the end of the document<br /><br />Code:<br /><br />#cause touchscreen drivers to malfunction<br />blacklist usbtouchscreen<br />blacklist tkusb<br /><br />reboot, then go to terminal (I assume that you have placed the TouchKit folder into your home folder if not just cd to it)<br /><br />Code:<br /><br />cd TouchKit<br />sudo ./TouchKit<br /><br />this is going to open a dialog, if you see a tools tab, then it worked, if not then review what you did and post here if u get stuck.<br /><br />This method worked on gutsy amd64 as well as the 32 bit version. I tried in hardy alpha 2 but that didn&#039;t work, I haven&#039;t tried it in hardy 3 cos I don&#039;t think I am going to keep it for very long and I just can&#039;t be bothered atm.<br /><br />good luck</div><br /><span style="font-size: 14pt; line-height: 1.3em;"><b><span style="text-decoration: underline;">Section 5 - Final Thoughts</span></b></span><br /><br />Honestly, the wireless support really disappointed me.&nbsp; I don&#039;t like having to use ndiswrapper, never have.&nbsp; Manually configuring your WPA access through config files can be annoying as well.&nbsp; You may find it worthwhile to locate a minipci express card based on an atheros chipset, I found a few online, and plan on purchasing myself one in the coming months, just so I can have native driver support.<br /><br />I&#039;d like to see the screen rotate as it does in Windows, making this tablet pc very usable.<br /><br />I also have yet to configure the fingerprint reader to work, and I would like to get some of the extra buttons working differently, such as the rotate button. :)&nbsp; The media and volume buttons seem to work well, though.<br /><br />With Linux on this laptop, it just feels better to me.&nbsp; Vista Home Premium, which came on it, left this dual core machine feeling rather sluggish.&nbsp; Ubuntu shuts down in just a few seconds, where I would be waiting a couple minutes on Vista.<br /><br />I may work on getting suspend working right in the future, as it is now, it will go into standby mode, but it fails to resume properly.</div>
					<br /><br />
					<div align="center" class="smalltext">
		<span class="smalltext" style="display: inline; visibility: visible; font-family: Verdana, Arial, sans-serif;"><a href="http://www.simplemachines.org/" title="Simple Machines Forum" target="_blank">Powered by SMF 1.1.13</a> |
<a href="http://www.simplemachines.org/about/copyright.php" title="Free Forum Software" target="_blank">SMF &copy; 2006-2011, Simple Machines LLC</a>
		</span></div>
				</td>
			</tr>
		</table>
	</body>
</html>